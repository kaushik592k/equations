# Learnings
- As in many RPC systems, gRPC is based around the idea of defining a **service**, specifying the methods that can be called remotely with their parameters and return types. On the server side, the server implements this interface and runs a gRPC server to handle client calls. On the client side, the client has a **stub** (referred to as just a client in some languages) that provides the same methods as the server. [Link](https://grpc.io/docs/what-is-grpc/introduction/)
- **grpc and net**: 
    - **grpc.NewServer()** used to create a new instance of a gRPC server in Go which you can use to register your services (e.g., pb.RegisterChemicalBalancerServer)
    - **grpcServer.Serve()** When you call Serve(), the server begins accepting incoming connections and invoking the corresponding service methods based on the registered handlers. Takes a *net.Listener* as input
    - **pb.RegisterChemicalBalancerServer()** function is auto-generated by the gRPC tools after compiling your .proto file. It registers the implementation of your service with the gRPC server. It maps the service interface defined in the .proto file to the actual implementation of the service.
    - **net.Listen()** This listener waits for incoming client connections, which can be handled by the server.
    - Flow is to create a tcp listener  then create a grpc server then register service inside the server and then start serve()

- **protoc**: 
    - Need to have the protoc compiler inside the container also. 
    - We need to generate the proto binary from the compiler and copy it in container. 

```
syntax = "proto3";

package chemical;

service ChemicalBalancer {
  rpc BalanceEquation (BalanceRequest) returns (BalanceResponse);
}

message BalanceRequest {
  string equation = 1; // Input equation with no spaces, e.g., "H2+O2=H2O"
}

message BalanceResponse {
  string balanced_equation = 1; // Balanced equation as output
  string error_message = 2; // Error message if balancing fails
}

```
# Run it
```
docker build -t grpc-chemical-balancer . // build image `grpc-chemical-balancer` from . directory
docker run -p 50051:50051 grpc-chemical-balancer // HOST_PORT:CONTAINER_PORT
```